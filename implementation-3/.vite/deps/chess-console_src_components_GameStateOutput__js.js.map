{
  "version": 3,
  "sources": ["../../node_modules/chess-console/src/components/GameStateOutput.js"],
  "sourcesContent": ["/**\n * Author and copyright: Stefan Haack (https://shaack.com)\n * Repository: https://github.com/shaack/chess-console\n * License: MIT, see file 'LICENSE'\n */\n\nexport class GameStateOutput {\n\n    constructor(chessConsole) {\n        this.context = chessConsole.componentContainers.notifications\n        this.chessConsole = chessConsole\n        this.i18n = chessConsole.i18n\n        this.i18n.load(\n            {\n                de: {\n                    game_over: \"Das Spiel ist beendet\",\n                    check: \"Schach!\",\n                    checkmate: \"Schachmatt\",\n                    draw: \"Remis\",\n                    stalemate: \"Patt\",\n                    threefold_repetition: \"Remis durch dreifache Wiederholung\"\n                },\n                en: {\n                    game_over: \"The game is over\",\n                    check: \"Check!\",\n                    checkmate: \"Checkmate\",\n                    draw: \"Draw\",\n                    stalemate: \"Stalemate\",\n                    threefold_repetition: \"Draw by threefold repetition\"\n                }\n            }\n        )\n        this.element = document.createElement(\"div\")\n        this.element.setAttribute(\"class\", \"gameState alert alert-primary mb-2\")\n        this.context.appendChild(this.element)\n\n        this.chessConsole.state.observeChess(() => {\n            this.redraw()\n        })\n        this.redraw()\n    }\n\n    redraw() {\n        const chess = this.chessConsole.state.chess\n        let html = ''\n        if (chess.gameOver()) {\n            html += `<b>${this.i18n.t(\"game_over\")}</b><br/>`\n            if (chess.inCheckmate()) {\n                html += `${this.i18n.t(\"checkmate\")}`\n            } else if (chess.inStalemate()) {\n                html += `${this.i18n.t(\"stalemate\")}`\n            } else if (chess.inThreefoldRepetition()) {\n                html += `${this.i18n.t(\"threefold_repetition\")}`\n            } else if (chess.inDraw()) {\n                html += `${this.i18n.t(\"draw\")}`\n            }\n        } else if (chess.inCheck()) {\n            html = `${this.i18n.t(\"check\")}`\n        } else {\n            html = \"\"\n        }\n        if (html) {\n            this.chessConsole.componentContainers.notifications.style.display = \"block\"\n            this.element.innerHTML = `${html}`\n        } else {\n            this.chessConsole.componentContainers.notifications.style.display = \"none\"\n        }\n    }\n}\n"],
  "mappings": ";AAMO,IAAM,kBAAN,MAAsB;AAAA,EAEzB,YAAY,cAAc;AACtB,SAAK,UAAU,aAAa,oBAAoB;AAChD,SAAK,eAAe;AACpB,SAAK,OAAO,aAAa;AACzB,SAAK,KAAK;AAAA,MACN;AAAA,QACI,IAAI;AAAA,UACA,WAAW;AAAA,UACX,OAAO;AAAA,UACP,WAAW;AAAA,UACX,MAAM;AAAA,UACN,WAAW;AAAA,UACX,sBAAsB;AAAA,QAC1B;AAAA,QACA,IAAI;AAAA,UACA,WAAW;AAAA,UACX,OAAO;AAAA,UACP,WAAW;AAAA,UACX,MAAM;AAAA,UACN,WAAW;AAAA,UACX,sBAAsB;AAAA,QAC1B;AAAA,MACJ;AAAA,IACJ;AACA,SAAK,UAAU,SAAS,cAAc,KAAK;AAC3C,SAAK,QAAQ,aAAa,SAAS,oCAAoC;AACvE,SAAK,QAAQ,YAAY,KAAK,OAAO;AAErC,SAAK,aAAa,MAAM,aAAa,MAAM;AACvC,WAAK,OAAO;AAAA,IAChB,CAAC;AACD,SAAK,OAAO;AAAA,EAChB;AAAA,EAEA,SAAS;AACL,UAAM,QAAQ,KAAK,aAAa,MAAM;AACtC,QAAI,OAAO;AACX,QAAI,MAAM,SAAS,GAAG;AAClB,cAAQ,MAAM,KAAK,KAAK,EAAE,WAAW,CAAC;AACtC,UAAI,MAAM,YAAY,GAAG;AACrB,gBAAQ,GAAG,KAAK,KAAK,EAAE,WAAW,CAAC;AAAA,MACvC,WAAW,MAAM,YAAY,GAAG;AAC5B,gBAAQ,GAAG,KAAK,KAAK,EAAE,WAAW,CAAC;AAAA,MACvC,WAAW,MAAM,sBAAsB,GAAG;AACtC,gBAAQ,GAAG,KAAK,KAAK,EAAE,sBAAsB,CAAC;AAAA,MAClD,WAAW,MAAM,OAAO,GAAG;AACvB,gBAAQ,GAAG,KAAK,KAAK,EAAE,MAAM,CAAC;AAAA,MAClC;AAAA,IACJ,WAAW,MAAM,QAAQ,GAAG;AACxB,aAAO,GAAG,KAAK,KAAK,EAAE,OAAO,CAAC;AAAA,IAClC,OAAO;AACH,aAAO;AAAA,IACX;AACA,QAAI,MAAM;AACN,WAAK,aAAa,oBAAoB,cAAc,MAAM,UAAU;AACpE,WAAK,QAAQ,YAAY,GAAG,IAAI;AAAA,IACpC,OAAO;AACH,WAAK,aAAa,oBAAoB,cAAc,MAAM,UAAU;AAAA,IACxE;AAAA,EACJ;AACJ;",
  "names": []
}
